import{c as q,a as c,h as v,i as E,e as $,l as V,r as S,w as x,o as N,g as P,p as W,d as A,f as j,n as U,j as K,k as D,m as Q,q as G,s as J,_ as X,t as Y,u as Z,v as ee,x as L,y as T,z as te}from"./index-BQdMRNLG.js";import{h as O,a as oe,b as ne}from"./render-Diu5X9vp.js";import{Q as le}from"./QBtn-BBSuldSS.js";import{Q as R,s as ae,g as re,a as ie,b as se,c as B,u as ue}from"./use-quasar-ctzPnRDQ.js";const ce=q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:u}){const n=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>v("div",{class:n.value},O(u.default))}}),de=q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:u}){const n=c(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>v("div",{class:n.value,role:"toolbar"},O(u.default))}}),fe=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:u,emit:n}){const{proxy:{$q:o}}=P(),l=E(V,$);if(l===$)return console.error("QHeader needs to be child of QLayout"),$;const r=S(parseInt(e.heightHint,10)),s=S(!0),g=c(()=>e.reveal===!0||l.view.value.indexOf("H")!==-1||o.platform.is.ios&&l.isContainer.value===!0),m=c(()=>{if(e.modelValue!==!0)return 0;if(g.value===!0)return s.value===!0?r.value:0;const t=r.value-l.scroll.value.position;return t>0?t:0}),d=c(()=>e.modelValue!==!0||g.value===!0&&s.value!==!0),z=c(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),b=c(()=>"q-header q-layout__section--marginal "+(g.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),_=c(()=>{const t=l.rows.value.top,h={};return t[0]==="l"&&l.left.space===!0&&(h[o.lang.rtl===!0?"right":"left"]=`${l.left.size}px`),t[2]==="r"&&l.right.space===!0&&(h[o.lang.rtl===!0?"left":"right"]=`${l.right.size}px`),h});function i(t,h){l.update("header",t,h)}function p(t,h){t.value!==h&&(t.value=h)}function H({height:t}){p(r,t),i("size",t)}function k(t){z.value===!0&&p(s,!0),n("focusin",t)}x(()=>e.modelValue,t=>{i("space",t),p(s,!0),l.animate()}),x(m,t=>{i("offset",t)}),x(()=>e.reveal,t=>{t===!1&&p(s,e.modelValue)}),x(s,t=>{l.animate(),n("reveal",t)}),x(l.scroll,t=>{e.reveal===!0&&p(s,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const C={};return l.instances.header=C,e.modelValue===!0&&i("size",r.value),i("space",e.modelValue),i("offset",m.value),N(()=>{l.instances.header===C&&(l.instances.header=void 0,i("size",0),i("offset",0),i("space",!1))}),()=>{const t=oe(u.default,[]);return e.elevated===!0&&t.push(v("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(v(R,{debounce:0,onResize:H})),v("header",{class:b.value,style:_.value,onFocusin:k},t)}}}),ve=q({name:"QPageContainer",setup(e,{slots:u}){const{proxy:{$q:n}}=P(),o=E(V,$);if(o===$)return console.error("QPageContainer needs to be child of QLayout"),$;W(A,!0);const l=c(()=>{const r={};return o.header.space===!0&&(r.paddingTop=`${o.header.size}px`),o.right.space===!0&&(r[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(r.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(r[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),r});return()=>v("div",{class:"q-page-container",style:l.value},O(u.default))}}),{passive:I}=K,he=["both","horizontal","vertical"],ge=q({name:"QScrollObserver",props:{axis:{type:String,validator:e=>he.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:ae},emits:["scroll"],setup(e,{emit:u}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,l,r;x(()=>e.scrollTarget,()=>{m(),g()});function s(){o!==null&&o();const b=Math.max(0,ie(l)),_=se(l),i={top:b-n.position.top,left:_-n.position.left};if(e.axis==="vertical"&&i.top===0||e.axis==="horizontal"&&i.left===0)return;const p=Math.abs(i.top)>=Math.abs(i.left)?i.top<0?"up":"down":i.left<0?"left":"right";n.position={top:b,left:_},n.directionChanged=n.direction!==p,n.delta=i,n.directionChanged===!0&&(n.direction=p,n.inflectionPoint=n.position),u("scroll",{...n})}function g(){l=re(r,e.scrollTarget),l.addEventListener("scroll",d,I),d(!0)}function m(){l!==void 0&&(l.removeEventListener("scroll",d,I),l=void 0)}function d(b){if(b===!0||e.debounce===0||e.debounce==="0")s();else if(o===null){const[_,i]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{i(_),o=null}}}const{proxy:z}=P();return x(()=>z.$q.lang.rtl,s),j(()=>{r=z.$el.parentNode,g()}),N(()=>{o!==null&&o(),m()}),Object.assign(z,{trigger:d,getPosition:()=>n}),U}}),me=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:u,emit:n}){const{proxy:{$q:o}}=P(),l=S(null),r=S(o.screen.height),s=S(e.container===!0?0:o.screen.width),g=S({position:0,direction:"down",inflectionPoint:0}),m=S(0),d=S(D.value===!0?0:B()),z=c(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=c(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),_=c(()=>d.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),i=c(()=>d.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function p(a){if(e.container===!0||document.qScrollPrevented!==!0){const f={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};g.value=f,e.onScroll!==void 0&&n("scroll",f)}}function H(a){const{height:f,width:w}=a;let y=!1;r.value!==f&&(y=!0,r.value=f,e.onScrollHeight!==void 0&&n("scrollHeight",f),C()),s.value!==w&&(y=!0,s.value=w),y===!0&&e.onResize!==void 0&&n("resize",a)}function k({height:a}){m.value!==a&&(m.value=a,C())}function C(){if(e.container===!0){const a=r.value>m.value?B():0;d.value!==a&&(d.value=a)}}let t=null;const h={instances:{},view:c(()=>e.view),isContainer:c(()=>e.container),rootRef:l,height:r,containerHeight:m,scrollbarWidth:d,totalWidth:c(()=>s.value+d.value),rows:c(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:Q({size:0,offset:0,space:!1}),right:Q({size:300,offset:0,space:!1}),footer:Q({size:0,offset:0,space:!1}),left:Q({size:300,offset:0,space:!1}),scroll:g,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,f,w){h[a][f]=w}};if(W(V,h),B()>0){let a=function(){y=null,M.classList.remove("hide-scrollbar")},f=function(){if(y===null){if(M.scrollHeight>o.screen.height)return;M.classList.add("hide-scrollbar")}else clearTimeout(y);y=setTimeout(a,300)},w=function(F){y!==null&&F==="remove"&&(clearTimeout(y),a()),window[`${F}EventListener`]("resize",f)},y=null;const M=document.body;x(()=>e.container!==!0?"add":"remove",w),e.container!==!0&&w("add"),G(()=>{w("remove")})}return()=>{const a=ne(u.default,[v(ge,{onScroll:p}),v(R,{onResize:H})]),f=v("div",{class:z.value,style:b.value,ref:e.container===!0?void 0:l,tabindex:-1},a);return e.container===!0?v("div",{class:"q-layout-container overflow-hidden",ref:l},[v(R,{onResize:k}),v("div",{class:"absolute-full",style:_.value},[v("div",{class:"scroll",style:i.value},[f])])]):f}}}),pe=J({name:"MainLayout",__name:"MainLayout",setup(e,{expose:u}){u();const n=ue(),o=c(()=>n.dark.isActive?"dark_mode":"light_mode");function l(){n.dark.toggle(),localStorage.setItem("theme",n.dark.isActive?"dark":"light")}j(()=>{const s=localStorage.getItem("theme")||"light";n.dark.set(s==="dark")});const r={$q:n,colorModeIcon:o,toggleColorMode:l};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}});function ye(e,u,n,o,l,r){const s=Y("router-view");return Z(),ee(me,{view:"lHh Lpr lFf",class:"centered-container"},{default:L(()=>[T(fe,{elevated:"",class:"centered-container"},{default:L(()=>[T(de,null,{default:L(()=>[T(ce,null,{default:L(()=>u[1]||(u[1]=[te("openWB")])),_:1}),T(le,{flat:"",round:"",icon:o.colorModeIcon,onClick:u[0]||(u[0]=g=>o.toggleColorMode()),"aria-label":"Color-Mode"},null,8,["icon"])]),_:1})]),_:1}),T(ve,{class:"column flex"},{default:L(()=>[T(s)]),_:1})]),_:1})}const xe=X(pe,[["render",ye],["__scopeId","data-v-07e4e38e"],["__file","MainLayout.vue"]]);export{xe as default};
